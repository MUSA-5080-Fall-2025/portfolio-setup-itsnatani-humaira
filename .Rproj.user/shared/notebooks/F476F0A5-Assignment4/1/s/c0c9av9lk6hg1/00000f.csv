"0","#| message: false"
"0",""
"0","# Calculate mean distance to 3 nearest abandoned cars"
"0","# (Do this OUTSIDE of mutate to avoid sf conflicts)"
"0",""
"0","# Get coordinates"
"0","fishnet_coords <- st_coordinates(st_centroid(fishnet))"
"0","abandoned_coords <- st_coordinates(abandoned_house)"
"0",""
"0","# Calculate k nearest neighbors and distances"
"0","nn_result <- get.knnx(abandoned_coords, fishnet_coords, k = 3)"
"0",""
"0","# Add to fishnet"
"0","fishnet <- fishnet %>%"
"0","  mutate("
"0","    abandoned_house.nn = rowMeans(nn_result$nn.dist)"
"0","  )"
"0",""
"0","cat(""✓ Calculated nearest neighbor distances\n"")"
"1","✓ Calculated nearest neighbor distances
"
"0","summary(fishnet$abandoned_house.nn)"
"1","     Min. "
"1","  1st Qu. "
"1","   Median "
"1","     Mean "
"1","  3rd Qu. "
"1","     Max. "
"1","
"
"1","   0.8904 "
"1","  78.5326 "
"1"," 154.3596 "
"1"," 261.9420 "
"1"," 313.4905 "
"1","1997.1334 "
"1","
"
