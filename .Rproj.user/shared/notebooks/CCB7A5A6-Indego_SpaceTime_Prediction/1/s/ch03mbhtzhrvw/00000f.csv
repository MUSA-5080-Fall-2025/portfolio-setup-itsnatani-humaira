"0","# Split by week"
"0","# Q3 has weeks 27-40 (Jul-Sep)"
"0","# Train on weeks 27-36 (Jul 1 - early September)"
"0","# Test on weeks 37-40 (rest of September)"
"0",""
"0","# Which stations have trips in BOTH early and late periods?"
"0","early_stations2024 <- study_panel_complete2024 %>%"
"0","  filter(week < 37) %>%"
"0","  filter(Trip_Count > 0) %>%"
"0","  distinct(start_station) %>%"
"0","  pull(start_station)"
"0",""
"0","late_stations2024 <- study_panel_complete2024 %>%"
"0","  filter(week >= 37) %>%"
"0","  filter(Trip_Count > 0) %>%"
"0","  distinct(start_station) %>%"
"0","  pull(start_station)"
"0",""
"0","# Keep only stations that appear in BOTH periods"
"0","common_stations2024 <- intersect(early_stations2024, late_stations2024)"
"0",""
"0",""
"0","# Filter panel to only common stations"
"0","study_panel_complete2024 <- study_panel_complete2024 %>%"
"0","  filter(start_station %in% common_stations2024)"
"0",""
"0","# NOW create train/test split"
"0","train2024 <- study_panel_complete2024 %>%"
"0","  filter(week < 37)"
"0",""
"0","test2024 <- study_panel_complete2024 %>%"
"0","  filter(week >= 37)"
"0",""
"0","cat(""Training observations:"", format(nrow(train2024), big.mark = "",""), ""\n"")"
"1","Training observations:"
"1"," "
"1","470,940"
"1"," "
"1","
"
"0","cat(""Testing observations:"", format(nrow(test2024), big.mark = "",""), ""\n"")"
"1","Testing observations:"
"1"," "
"1","159,330"
"1"," "
"1","
"
"0","cat(""Training date range:"", min(train2024$date), ""to"", max(train2024$date), ""\n"")"
"1","Training date range:"
"1"," "
"1","19905"
"1"," "
"1","to"
"1"," "
"1","19974"
"1"," "
"1","
"
"0","cat(""Testing date range:"", min(test2024$date), ""to"", max(test2024$date), ""\n"")"
"1","Testing date range:"
"1"," "
"1","19975"
"1"," "
"1","to"
"1"," "
"1","19996"
"1"," "
"1","
"
